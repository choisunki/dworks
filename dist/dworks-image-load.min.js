/*!
 * @name dworks-image-load
 * @version v1.1.1
 * @author Choi Sunki <sk@daltan.net>
 * @description DWorks image load utility
 * @repository https://github.com/choisunki/dworks
 * @license MIT
 * @preserve
 */
var DWorksImageLoad=(()=>{var b=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var I=(o,t)=>{for(var e in t)b(o,e,{get:t[e],enumerable:!0})},W=(o,t,e,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of C(t))!w.call(o,r)&&r!==e&&b(o,r,{get:()=>t[r],enumerable:!(d=N(t,r))||d.enumerable});return o};var q=o=>W(b({},"__esModule",{value:!0}),o);var $={};I($,{default:()=>D,dload:()=>k});function k(o,t={}){let e=Object.assign({cmessage:!1,lazyAttrs:["data-src","data-lazy","data-original"],cbMode:"section",timeoutMs:0},t),r=typeof NodeList!="undefined"&&o instanceof NodeList||Array.isArray(o)?o:[o],T=e.cbMode==="all",m=r.length,f=()=>{typeof e.cb=="function"&&e.cb()},u=()=>{if(!T){f();return}m-=1,m<=0&&f()};if(r.length===0){f();return}r.forEach(g=>{if(!g||!g.querySelectorAll){u();return}let y=g.querySelectorAll("img"),h=y.length,l=0;if(h===0){e.cmessage&&console.log("%c Load Complete 0ea","background: green; color: #111; border-radius: 2px; padding: 5px 10px;"),u();return}let z=()=>{l+=1,e.cmessage&&console.log(`%c => Loading ${l}ea`,"background: #111; color: green; border-radius: 2px;"),l===h&&(e.cmessage&&console.log(`%c Load Complete ${l}ea`,"background: green; color: #111; border-radius: 2px; padding: 5px 10px;"),u())};y.forEach(a=>{let s=new Image,A=!1,c=null,i=()=>{A||(A=!0,c&&(clearTimeout(c),c=null),z())};s.onload=i,s.onerror=i;let L=Array.isArray(e.lazyAttrs)?e.lazyAttrs:[],n="";if(a.currentSrc&&(n=a.currentSrc),!n&&a.src&&(n=a.src),n||(n=a.getAttribute("src")||""),!n)for(let p=0;p<L.length;p+=1){let S=a.getAttribute(L[p]);if(S){n=S;break}}if(!n){i();return}let x=Number(e.timeoutMs)||0;x>0&&(c=setTimeout(()=>{i()},x)),s.src=n,s.complete&&(s.naturalWidth>0?i():s.onerror&&s.onerror())})})}var M={dload:k};typeof globalThis!="undefined"&&typeof globalThis.window!="undefined"&&(globalThis.DWorksImageLoad=globalThis.DWorksImageLoad||M);var D=M;return q($);})();
//# sourceMappingURL=dworks-image-load.min.js.map
