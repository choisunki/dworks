{
  "version": 3,
  "sources": ["../src/modules/media-bridge.js"],
  "sourcesContent": ["/**\n * DWorks Media Bridge v1.1.0\n * - \uBE44\uB514\uC624/\uC720\uD29C\uBE0C \uD578\uB4DC\uC170\uC774\uD06C + \uBBF8\uB514\uC5B4 \uB7F0\uD0C0\uC784\uC744 \uD1B5\uD569\n * - w.html\uC5D0\uC11C\uB294 bootstrapping\uB9CC \uC720\uC9C0\uD558\uB3C4\uB85D \uC124\uACC4\n */\n(function (window) {\n    var root = window.daltan = window.daltan || {};\n    var works = root.works = root.works || {};\n\n    works.ensure = works.ensure || function (path, base) {\n        var target = base || works;\n        return String(path || '').split('.').filter(Boolean).reduce(function (acc, key) {\n            acc[key] = acc[key] || {};\n            return acc[key];\n        }, target);\n    };\n\n    var state = works.ensure('state');\n    var api = works.ensure('api');\n    var utils = works.ensure('utils');\n\n    var DWorksMediaBridge = {\n        init: function (config) {\n            if (state._mediaBridgeInited) return;\n\n            this.config = config || works.config || {};\n\n            this.setupState();\n            this.setupUtils();\n            this.setupMediaRuntime();\n            this.setupBridge();\n            this.setupFallback();\n\n            state._mediaBridgeInited = true;\n        },\n\n        getConfig: function () {\n            return works.config || this.config || {};\n        },\n\n        setupState: function () {\n            if (typeof state._vctrlDocBound === 'undefined') state._vctrlDocBound = false;\n            if (typeof state._videoInstInited === 'undefined') state._videoInstInited = false;\n            if (typeof state._youtubeInstInited === 'undefined') state._youtubeInstInited = false;\n            if (typeof state._vdoIdSeq !== 'number') state._vdoIdSeq = 0;\n            state._vdoUsedIds = state._vdoUsedIds || {};\n            if (typeof state._vdoRetryTimer === 'undefined') state._vdoRetryTimer = null;\n            if (typeof state._vdoMountObserver === 'undefined') state._vdoMountObserver = null;\n            if (typeof state._vdoMountObserverTimer === 'undefined') state._vdoMountObserverTimer = null;\n            state.modules = state.modules || {};\n        },\n\n        setupUtils: function () {\n            var self = this;\n\n            utils.reserveVideoId = utils.reserveVideoId || function (vid) {\n                if (!vid) return;\n                state._vdoUsedIds[String(vid)] = true;\n            };\n\n            utils.nextVideoId = utils.nextVideoId || function (prefix) {\n                var base = prefix || 'daltan_vdo';\n                var id = '';\n                var guard = 0;\n\n                do {\n                    state._vdoIdSeq += 1;\n                    id = base + '_' + state._vdoIdSeq;\n                    guard += 1;\n                    if (guard > 100000) {\n                        id = base + '_' + (new Date().getTime()) + '_' + guard;\n                        break;\n                    }\n                } while (state._vdoUsedIds[id] || document.getElementById(id));\n\n                state._vdoUsedIds[id] = true;\n                return id;\n            };\n\n            utils.markAutoplayBlocked = utils.markAutoplayBlocked || function (videoEl, err) {\n                if (!videoEl) return;\n\n                var wrap = null;\n                var cfg = self.getConfig();\n\n                try { wrap = videoEl.closest ? videoEl.closest('.vdo__wrap') : null; } catch (e0) { wrap = null; }\n                try { videoEl.setAttribute('data-autoplay-blocked', 'true'); } catch (e1) {}\n                if (wrap) {\n                    try { wrap.setAttribute('data-autoplay-blocked', 'true'); } catch (e2) {}\n                    try { if (wrap.classList) wrap.classList.add('is-autoplay-blocked'); } catch (e3) {}\n                }\n\n                if (cfg && cfg.debug) {\n                    try { console.warn('[daltan] autoplay blocked', videoEl.id || '(no-id)', err); } catch (e4) {}\n                }\n\n                try {\n                    var detail = { vid: videoEl.id || '', errorName: (err && err.name) ? err.name : '' };\n                    var ev;\n                    if (typeof window.CustomEvent === 'function') {\n                        ev = new CustomEvent('daltan:autoplay-blocked', { detail: detail });\n                    } else {\n                        ev = document.createEvent('CustomEvent');\n                        ev.initCustomEvent('daltan:autoplay-blocked', true, true, detail);\n                    }\n                    document.dispatchEvent(ev);\n                } catch (e5) {}\n\n                try {\n                    if (cfg && typeof cfg.onPlayFailed === 'function') {\n                        cfg.onPlayFailed({\n                            vid: videoEl.id || '',\n                            errorName: (err && err.name) ? err.name : '',\n                            error: err || null,\n                            videoEl: videoEl\n                        });\n                    }\n                } catch (e_cb) {}\n            };\n\n            utils.clearAutoplayBlocked = utils.clearAutoplayBlocked || function (videoEl) {\n                if (!videoEl) return;\n\n                var wrap = null;\n                try { wrap = videoEl.closest ? videoEl.closest('.vdo__wrap') : null; } catch (e0) { wrap = null; }\n\n                try { videoEl.removeAttribute('data-autoplay-blocked'); } catch (e1) {}\n                if (wrap) {\n                    try { wrap.removeAttribute('data-autoplay-blocked'); } catch (e2) {}\n                    try { if (wrap.classList) wrap.classList.remove('is-autoplay-blocked'); } catch (e3) {}\n                }\n            };\n\n            utils.installPlayGuard = utils.installPlayGuard || function (videoEl) {\n                if (!videoEl || videoEl.__daltanPlayGuarded) return;\n                if (typeof videoEl.play !== 'function') return;\n\n                var rawPlay = videoEl.play;\n                videoEl.__daltanRawPlay = rawPlay;\n                videoEl.play = function () {\n                    var ret;\n                    try {\n                        ret = rawPlay.call(videoEl);\n                    } catch (e0) {\n                        utils.markAutoplayBlocked(videoEl, e0);\n                        throw e0;\n                    }\n\n                    if (ret && typeof ret.then === 'function') {\n                        return ret.then(function (v) {\n                            utils.clearAutoplayBlocked(videoEl);\n                            return v;\n                        }).catch(function (err) {\n                            utils.markAutoplayBlocked(videoEl, err);\n                            throw err;\n                        });\n                    }\n\n                    return ret;\n                };\n                videoEl.__daltanPlayGuarded = true;\n            };\n        },\n\n        setupMediaRuntime: function () {\n            api.hasConfigList = api.hasConfigList || function (key) {\n                var conf = works.config || {};\n                var list = conf[key];\n                return !!(list && list.length);\n            };\n\n            api.normalizeVdos = api.normalizeVdos || function (list) {\n                if (!list || !list.length) return [];\n                for (var i = 0; i < list.length; i++) {\n                    var it = list[i];\n                    if (!it) continue;\n                    if (!it.url && it.code) it.url = it.code;\n                    if (!it.code && it.url) it.code = it.url;\n                }\n                return list;\n            };\n\n            api.getVdoList = api.getVdoList || function () {\n                var cfg0 = works.config || {};\n                var list0 = cfg0.vdos;\n                if (!list0 || !list0.length) return [];\n                return api.normalizeVdos(list0);\n            };\n\n            api.resolveVideos = api.resolveVideos || function (getListFn) {\n                var list = [];\n                try { list = (typeof getListFn === 'function') ? (getListFn() || []) : []; } catch (e) { list = []; }\n                if (!list || !list.length) return null;\n                return list;\n            };\n\n            api.installPlayGuards = api.installPlayGuards || function (rootEl) {\n                var scope = rootEl || document;\n                var videos = null;\n                try { videos = scope.querySelectorAll('video'); } catch (e0) { videos = null; }\n                if (!videos || !videos.length) return;\n                for (var i = 0; i < videos.length; i++) utils.installPlayGuard(videos[i]);\n            };\n\n            api.retryPendingVideos = api.retryPendingVideos || function (pendingItems, attempt) {\n                var cfg = works.config || {};\n                if (!pendingItems || !pendingItems.length) return;\n\n                var maxAttempt = 20;\n                var nextAttempt = (typeof attempt === 'number') ? attempt + 1 : 1;\n                if (nextAttempt > maxAttempt) {\n                    if (cfg && cfg.debug) {\n                        try { console.warn('[daltan] mount not found after retries', pendingItems); } catch (e_retry_log) {}\n                    }\n                    return;\n                }\n\n                if (state._vdoRetryTimer) {\n                    try { clearTimeout(state._vdoRetryTimer); } catch (e_clear) {}\n                    state._vdoRetryTimer = null;\n                }\n\n                state._vdoRetryTimer = setTimeout(function () {\n                    state._vdoRetryTimer = null;\n\n                    var list = [];\n                    for (var i = 0; i < pendingItems.length; i++) {\n                        var item = pendingItems[i];\n                        if (!item || !item.mount) continue;\n                        if (!document.querySelector(item.mount)) list.push(item);\n                    }\n\n                    if (typeof api.manageVideos === 'function') api.manageVideos();\n                    if (list.length) api.retryPendingVideos(list, nextAttempt);\n                }, 150);\n            };\n\n            api.observePendingMounts = api.observePendingMounts || function (pendingItems) {\n                if (!pendingItems || !pendingItems.length) return;\n                if (typeof window.MutationObserver !== 'function') {\n                    api.retryPendingVideos(pendingItems, 0);\n                    return;\n                }\n\n                if (state._vdoMountObserver) {\n                    try { state._vdoMountObserver.disconnect(); } catch (e0) {}\n                    state._vdoMountObserver = null;\n                }\n                if (state._vdoMountObserverTimer) {\n                    try { clearTimeout(state._vdoMountObserverTimer); } catch (e1) {}\n                    state._vdoMountObserverTimer = null;\n                }\n\n                var observer = new MutationObserver(function () {\n                    var remain = [];\n                    for (var i = 0; i < pendingItems.length; i++) {\n                        var item = pendingItems[i];\n                        if (!item || !item.mount) continue;\n                        if (!document.querySelector(item.mount)) remain.push(item);\n                    }\n\n                    if (remain.length !== pendingItems.length) {\n                        if (typeof api.manageVideos === 'function') api.manageVideos();\n                    }\n\n                    if (!remain.length) {\n                        try { observer.disconnect(); } catch (e2) {}\n                        state._vdoMountObserver = null;\n                        if (state._vdoMountObserverTimer) {\n                            try { clearTimeout(state._vdoMountObserverTimer); } catch (e3) {}\n                            state._vdoMountObserverTimer = null;\n                        }\n                        return;\n                    }\n\n                    pendingItems = remain;\n                });\n\n                try {\n                    observer.observe(document.documentElement || document.body, { childList: true, subtree: true });\n                    state._vdoMountObserver = observer;\n                } catch (e4) {\n                    state._vdoMountObserver = null;\n                    api.retryPendingVideos(pendingItems, 0);\n                    return;\n                }\n\n                state._vdoMountObserverTimer = setTimeout(function () {\n                    if (state._vdoMountObserver) {\n                        try { state._vdoMountObserver.disconnect(); } catch (e5) {}\n                        state._vdoMountObserver = null;\n                    }\n                    state._vdoMountObserverTimer = null;\n                    api.retryPendingVideos(pendingItems, 0);\n                }, 5000);\n            };\n\n            api.manageVideos = api.manageVideos || function () {\n                if (state.modules && state.modules.videoInst && typeof state.modules.videoInst.init === 'function') {\n                    if (!state._videoInstInited) {\n                        try {\n                            state.modules.videoInst.init();\n                            state._videoInstInited = true;\n                            api.installPlayGuards(document);\n                        } catch (e_mod_init) {\n                            console.warn('[daltan] videoInst.init failed', e_mod_init);\n                        }\n                    }\n                    return;\n                }\n\n                var list = api.resolveVideos(api.getVdoList);\n                if (!list) return;\n                if (typeof utils.vdoTag !== 'function') return;\n                var pendingMounts = [];\n\n                for (var i = 0; i < list.length; i++) {\n                    var item = list[i];\n                    if (!item || !item.code || !item.mount) continue;\n                    if (item._mountedDone) continue;\n                    if (!document.querySelector(item.mount)) {\n                        pendingMounts.push(item);\n                        continue;\n                    }\n\n                    if (item.vctrl !== false && !item.vid) item.vid = utils.nextVideoId('daltan_vdo');\n                    else if (item.vid) utils.reserveVideoId(item.vid);\n\n                    var html = utils.vdoTag(item.code, item);\n\n                    if (item.vctrl !== false) {\n                        try {\n                            var m = String(html || '').match(/<video\\s+[^>]*id=\\\"([^\\\"]+)\\\"/i);\n                            if (m && m[1]) {\n                                item.vid = m[1];\n                                utils.reserveVideoId(item.vid);\n                            }\n                        } catch (e_vid) {}\n                    }\n\n                    if (window.jQuery) window.jQuery(item.mount).html(html);\n                    else {\n                        var mountEl = document.querySelector(item.mount);\n                        if (mountEl) mountEl.innerHTML = html;\n                    }\n\n                    try {\n                        var elMount = document.querySelector(item.mount);\n                        if (elMount) api.installPlayGuards(elMount);\n                    } catch (e_guard) {}\n                    item._mountedDone = true;\n\n                    if (item.vid && typeof api.syncVctrlA11y === 'function') api.syncVctrlA11y(item.vid);\n                }\n\n                if (!state._vctrlDocBound && typeof api.bindVideoCtrls === 'function') {\n                    api.bindVideoCtrls();\n                    state._vctrlDocBound = true;\n                }\n                if (typeof api.bindVideoVisibility === 'function') api.bindVideoVisibility(list);\n                if (pendingMounts.length) api.observePendingMounts(pendingMounts);\n            };\n\n            api.manageTubes = api.manageTubes || function () {\n                if (state.modules && state.modules.youtubeInst && typeof state.modules.youtubeInst.init === 'function') {\n                    if (!state._youtubeInstInited) {\n                        try {\n                            state.modules.youtubeInst.init();\n                            state._youtubeInstInited = true;\n                        } catch (e_tube_init) {\n                            console.warn('[daltan] youtubeInst.init failed', e_tube_init);\n                        }\n                    }\n                }\n            };\n\n            api.isVideoReady = api.isVideoReady || function () {\n                var hasInstInit = !!(state.modules && state.modules.videoInst && typeof state.modules.videoInst.init === 'function');\n                return (typeof utils.vdoTag === 'function') || hasInstInit;\n            };\n\n            api.isYoutubeReady = api.isYoutubeReady || function () {\n                return !!(state.modules && state.modules.youtubeInst && typeof state.modules.youtubeInst.init === 'function');\n            };\n\n            api.initVideos = api.initVideos || function () {\n                if (!api.hasConfigList('vdos')) return;\n                if (api.isVideoReady && api.isVideoReady()) {\n                    if (typeof api.manageVideos === 'function') api.manageVideos();\n                } else {\n                    console.warn('[daltan] video module not ready');\n                }\n            };\n\n            api.initTubes = api.initTubes || function () {\n                if (!api.hasConfigList('tubes')) return;\n                if (api.isYoutubeReady && api.isYoutubeReady()) {\n                    if (typeof api.manageTubes === 'function') api.manageTubes();\n                } else {\n                    console.warn('[daltan] youtube module not ready');\n                }\n            };\n\n            api.init = api.init || function () {\n                api.initVideos();\n                api.initTubes();\n            };\n        },\n\n        createModuleInstance: function (type, mod) {\n            if (!mod || typeof mod.create !== 'function') return null;\n            var isYT = type === 'youtube';\n            var conf = this.getConfig();\n\n            try {\n                var createOptions = {\n                    icons: utils.icons || mod.icons || null,\n                    log: !!conf.debug,\n                    viewportChecker: { enabled: true, $: window.jQuery, pluginName: 'viewportChecker' }\n                };\n\n                if (isYT) {\n                    createOptions.tubes = conf.tubes || [];\n                    createOptions.onPlaybackBlocked = function (p) {\n                        if (typeof conf.onPlayFailed === 'function') conf.onPlayFailed(p || {});\n                    };\n                } else {\n                    createOptions.vdos = api.normalizeVdos ? api.normalizeVdos(conf.vdos || []) : (conf.vdos || []);\n                }\n\n                return mod.create(createOptions);\n            } catch (e) {\n                console.error('[daltan] ' + type + ' instance creation failed', e);\n                return null;\n            }\n        },\n\n        setupBridge: function () {\n            var self = this;\n\n            var prevExport = window.__DWORKS_EXPORT__;\n            window.__DWORKS_EXPORT__ = function (mod) {\n                try {\n                    var isYT = !!(mod && mod.extractYouTubeId);\n                    if (isYT) works.assignYoutubeModule(mod);\n                    else works.assignVideoModule(mod);\n                } finally {\n                    if (typeof prevExport === 'function') prevExport(mod);\n                }\n            };\n\n            var prevYoutubeExport = window.__DWORKS_EXPORT_YOUTUBE__;\n            window.__DWORKS_EXPORT_YOUTUBE__ = function (mod) {\n                try {\n                    works.assignYoutubeModule(mod);\n                } finally {\n                    if (typeof prevYoutubeExport === 'function') prevYoutubeExport(mod);\n                }\n            };\n\n            works.assignVideoModule = function (mod) {\n                if (!mod) return;\n                state.modules.video = mod;\n\n                var inst = self.createModuleInstance('video', mod);\n                var src = inst || mod;\n\n                utils.icons = src.icons || mod.icons || utils.icons;\n                utils.controlVideo = src.controlVideo || mod.controlVideo || utils.controlVideo;\n                utils.vdoTag = src.vdoTag || mod.vdoTag || utils.vdoTag;\n\n                api.vdoVolume = src.vdoVolume || mod.vdoVolume || api.vdoVolume;\n                api.syncVctrlA11y = src.syncVctrlA11y || mod.syncVctrlA11y || api.syncVctrlA11y;\n                api.bindVideoCtrls = src.bindVideoCtrls || mod.bindVideoCtrls || api.bindVideoCtrls;\n                api.bindVideoVisibility = src.bindVideoVisibility || mod.bindVideoVisibility || api.bindVideoVisibility;\n\n                var nextDestroy = src.destroy || mod.destroy || null;\n                if (typeof nextDestroy === 'function') {\n                    api._rawDestroy = nextDestroy;\n                    api.destroy = function () {\n                        try { api._rawDestroy(); } catch (e_destroy) {}\n                        state._vctrlDocBound = false;\n                        state._videoInstInited = false;\n                        if (state._vdoRetryTimer) {\n                            try { clearTimeout(state._vdoRetryTimer); } catch (e_retry_clear) {}\n                            state._vdoRetryTimer = null;\n                        }\n                        if (state._vdoMountObserver) {\n                            try { state._vdoMountObserver.disconnect(); } catch (e_obs_dis) {}\n                            state._vdoMountObserver = null;\n                        }\n                        if (state._vdoMountObserverTimer) {\n                            try { clearTimeout(state._vdoMountObserverTimer); } catch (e_obs_timer) {}\n                            state._vdoMountObserverTimer = null;\n                        }\n                    };\n                }\n\n                if (inst) {\n                    state.modules.videoInst = inst;\n                    state._videoInstInited = false;\n                    if (typeof api.bindVideoCtrls !== 'function') api.bindVideoCtrls = function () {};\n                    if (typeof api.bindVideoVisibility !== 'function') api.bindVideoVisibility = function () {};\n                }\n            };\n\n            works.assignYoutubeModule = function (mod) {\n                if (!mod) return;\n                state.modules.youtube = mod;\n\n                var inst = self.createModuleInstance('youtube', mod);\n                if (inst) {\n                    state.modules.youtubeInst = inst;\n                    state._youtubeInstInited = false;\n                }\n            };\n        },\n\n        setupFallback: function () {\n            var prevFallback = api.assignFallbackModules || function () {};\n\n            api.assignFallbackModules = function () {\n                prevFallback.call(api);\n\n                var gVideo = window.DWorksVideo || window.DWORKS_VIDEO || window.dworksVideo || window.dworks_video || null;\n                var gTube = window.DWorksYoutube || window.DWORKS_YOUTUBE || window.dworksYoutube || window.dworks_youtube || null;\n\n                if (!gVideo && window.dworks && window.dworks.video) gVideo = window.dworks.video;\n                if (!gTube && window.dworks && window.dworks.youtube) gTube = window.dworks.youtube;\n\n                if (gVideo && !state.modules.video) works.assignVideoModule(gVideo);\n                if (gTube && !state.modules.youtube) works.assignYoutubeModule(gTube);\n            };\n        }\n    };\n\n    window.DWorksMediaBridge = DWorksMediaBridge;\n})(window);\n"],
  "mappings": "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",
  "names": ["window", "root", "works", "path", "base", "target", "acc", "key", "state", "api", "utils", "DWorksMediaBridge", "config", "self", "vid", "prefix", "id", "guard", "videoEl", "err", "wrap", "cfg", "e0", "e1", "e2", "e3", "e4", "detail", "ev", "e5", "e_cb", "rawPlay", "ret", "v", "conf", "list", "i", "it", "cfg0", "list0", "getListFn", "e", "rootEl", "scope", "videos", "pendingItems", "attempt", "maxAttempt", "nextAttempt", "e_retry_log", "e_clear", "item", "observer", "remain", "e_mod_init", "pendingMounts", "html", "m", "e_vid", "mountEl", "elMount", "e_guard", "e_tube_init", "hasInstInit", "type", "mod", "isYT", "createOptions", "p", "prevExport", "prevYoutubeExport", "inst", "src", "nextDestroy", "e_destroy", "e_retry_clear", "e_obs_dis", "e_obs_timer", "prevFallback", "gVideo", "gTube"]
}
